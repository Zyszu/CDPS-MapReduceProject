# CDPS MapReduce Cluster

## Overview

CDPS MapReduce Cluster is a lightweight distributed system written in
.NET.\
It simulates a multi-node cluster capable of:

-   Automatic node discovery (UDP broadcast)
-   Heartbeat monitoring
-   Lost-node detection
-   Master / Worker architecture
-   Persistent unique Node IDs (UUID)
-   Asynchronous networking core
-   Foundation for distributed data processing and MapReduce jobs

Works on Linux, macOS, VMware Fusion, VirtualBox, or Docker.

------------------------------------------------------------------------

## Architecture

### Master Node

-   Broadcasts periodic discovery messages\
-   Receives worker responses\
-   Tracks active nodes using heartbeats\
-   Detects lost workers\
-   Maintains cluster membership state

### Worker Nodes

-   Generate a persistent UUID on first startup\
-   Listen for discovery broadcasts\
-   Switch to communication state when master is detected\
-   Send asynchronous heartbeats to master\
-   Designed to later execute map/reduce tasks

------------------------------------------------------------------------

## Technologies

-   **.NET 8+**\
-   **UDP** for node discovery and heartbeats\
-   **TCP** (planned) for job commands and data transfer\
-   **Serilog** for logging\
-   **JSON** message protocol\
-   **Async/Await** concurrency model

------------------------------------------------------------------------

## Directory Structure

    CDPS-Project/
    ├── MasterNode/       # Master application
    ├── WorkerNode/       # Worker node application
    └── Shared/           # Shared code (messages, models, networking, logging)

------------------------------------------------------------------------

## Node Identity

Each node generates a persistent UUID and stores it locally:

-   **Linux:** `~/.config/cdps/nodeid`\
-   **macOS:** `~/Library/Application Support/cdps/nodeid`

This ensures stable identity across restarts and VM clones.

------------------------------------------------------------------------

## How to Run

### Master

``` bash
cd MasterNode
dotnet run
```

### Worker

``` bash
cd WorkerNode
dotnet run
```

Run multiple WorkerNode instances on separate VMs or containers for a
functioning cluster.

------------------------------------------------------------------------

## Current Status

-   [x] Node discovery\
-   [x] Heartbeat system\
-   [x] Lost-node detection\
-   [x] Persistent node identity system\
-   [ ] Data distribution\
-   [ ] TCP command channel\
-   [ ] MapReduce logic

------------------------------------------------------------------------

## Future Work

-   Distributed data model\
-   Task scheduling and assignment\
-   Map and Reduce pipeline\
-   Worker load balancing\
-   Optional dashboard for visualization

------------------------------------------------------------------------

*README generated by LLM GPT-5.1.*
